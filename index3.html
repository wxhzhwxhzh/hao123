<!DOCTYPE html>
<html lang="en">



<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>视频专用</title>

    <!-- 装饰栏 开始 -->
    <style>
        body {

            background-color: #232328;
            text-align: center;



        }

        .juzhong {
            position: absolute;
            left: 10%;
            right: 10%;
        }



        h1 {
            color: #aaacaf;
        }

        #randomButton {
            height: 50px;
            /* 设置按钮的高度为50像素 */
        }
    </style>

    <!-- 装饰栏  结束 -->




</head>







<body>

    <div class="juzhong">

        <h1>WangXianSheng视频站</h1>

        <!-- 
        <div  >
            <iframe  src="https://www.youtube.com/embed/3JiTTni_MGA?si=MpY2kbWQqx1iArq7"
                title="YouTube video player" frameborder="0"
                class="dengbili"
                                
                
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen>
            </iframe>

        </div> -->




        <div id="dplayer"></div>
        <!-- <div> <img src="img/screenshot.webp">

        </div> -->
        <p style="color: red;">点击下面按钮刷新下一个视频</p>
        <button id="randomButton" onclick="updateRandomUrl()">刷新</button>

        <div id="info">版权所有</div>





    </div>







    <!-- 脚本栏start -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dplayer/1.27.1/DPlayer.min.js" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>

    <script>

        const dp = new DPlayer({
            container: document.getElementById('dplayer'),
            screenshot: true,
            logo: './img/logo.ico',
            video: {
                url: 'https://www.bi1ibili.com/m3u8/3/3025/index.m3u8',
                pic: './img/01.jpg',
                thumbnails: 'thumbnails.jpg',
            },
            subtitle: {
                url: 'webvtt.vtt',
            },
            danmaku: {
                id: 'demo',
                api: 'https://api.prprpr.me/dplayer/',
            },
        });


    </script>

    <script>
        function updateRandomUrl() {
            var num = generateRandomNumber();
            var rn = `https://www.bi1ibili.com/m3u8/${num[0]}/${num}/index.m3u8`;
            var button = document.getElementById('randomButton');
            button.innerText = rn;

            dp.pause();
            dp.switchVideo(
                {
                    url: rn,
                    pic: './img/01.jpg',

                },

            );


        }




        function generateRandomNumber() {
            var randomNumber = Math.floor(Math.random() * (3500 - 2000 + 1)) + 2000;
            return randomNumber.toString();
        }
    </script>





    <script>
        // 获取所有 class 为 "dengbili" 的元素
        var elements = document.getElementsByClassName("dengbili");

        // 遍历每个符合条件的元素
        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            element.style.width = "80%";
            var width = element.offsetWidth; // 获取元素的宽度
            element.style.height = width * 0.5 + "px"; // 设置高度为宽度的一半
        }

    </script>

    <!-- 脚本栏end     -->

</body>

</html>